(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{503:function(s,e,t){"use strict";t.r(e);var a=t(3),n=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯-requestanimationframe"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-requestanimationframe"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯ requestAnimationFrame")]),s._v(" "),e("p",[s._v("é¡¾åæ€ä¹‰ï¼Œè¯·æ±‚åŠ¨ç”»å¸§ï¼Œä¹Ÿç§° å¸§å¾ªç¯")]),s._v(" "),e("h2",{attrs:{id:"æ€ä¹ˆç”¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆç”¨"}},[s._v("#")]),s._v(" æ€ä¹ˆç”¨")]),s._v(" "),e("blockquote",[e("p",[s._v("window.requestAnimationFrame()")])]),s._v(" "),e("ul",[e("li",[s._v("å‘Šè¯‰æµè§ˆå™¨â€”â€”ä½ å¸Œæœ›æ‰§è¡Œä¸€ä¸ªåŠ¨ç”»ï¼Œå¹¶ä¸”è¦æ±‚æµè§ˆå™¨åœ¨ä¸‹æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°æ›´æ–°åŠ¨ç”»ã€‚è¯¥æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å›è°ƒå‡½æ•°ä¼šåœ¨æµè§ˆå™¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ‰§è¡Œã€‚")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("function test() {\n    console.log('ğŸš€ğŸš€hello ~ requestAnimationFrame');\n  }\n  requestAnimationFrame(test)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"æ€ä¹ˆåšåŠ¨ç”»"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€ä¹ˆåšåŠ¨ç”»"}},[s._v("#")]),s._v(" æ€ä¹ˆåšåŠ¨ç”»")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("æ³¨æ„ï¼šè‹¥ä½ æƒ³åœ¨æµè§ˆå™¨ä¸‹æ¬¡é‡ç»˜ä¹‹å‰ç»§ç»­æ›´æ–°ä¸‹ä¸€å¸§åŠ¨ç”»ï¼Œé‚£ä¹ˆå›è°ƒå‡½æ•°è‡ªèº«å¿…é¡»å†æ¬¡è°ƒç”¨window.requestAnimationFrame()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("è¯´äººè¯ï¼šé€’å½’è°ƒç”¨è‡ªå·±")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("let n = 0\n  function test() {\n    n++\n    console.log(`ğŸš€ğŸš€hello ~ requestAnimationFrame ${n}`);\n    requestAnimationFrame(test)\n  }\n  requestAnimationFrame(test)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h2",{attrs:{id:"æ‰§è¡Œé¢‘ç‡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œé¢‘ç‡"}},[s._v("#")]),s._v(" æ‰§è¡Œé¢‘ç‡")]),s._v(" "),e("blockquote",[e("p",[s._v("å›è°ƒå‡½æ•°æ‰§è¡Œæ¬¡æ•°é€šå¸¸æ˜¯æ¯ç§’ 60 æ¬¡ï¼Œä½†åœ¨å¤§å¤šæ•°éµå¾ª W3C å»ºè®®çš„æµè§ˆå™¨ä¸­ï¼Œå›è°ƒå‡½æ•°æ‰§è¡Œæ¬¡æ•°é€šå¸¸ä¸ æµè§ˆå™¨å±å¹•åˆ·æ–°æ¬¡æ•° ç›¸åŒ¹é…ã€‚")])]),s._v(" "),e("p",[s._v("å±å¹•åˆ·æ–°é¢‘ç‡ï¼ˆæ¬¡æ•°ï¼‰ï¼š å±å¹•æ¯ç§’å‡ºç°å›¾åƒçš„æ¬¡æ•°ã€‚æ™®é€šç¬”è®°æœ¬ä¸º60Hzã€‚")]),s._v(" "),e("h2",{attrs:{id:"å›è°ƒå‚æ•°-æ‰§è¡Œæ—¶é—´"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å›è°ƒå‚æ•°-æ‰§è¡Œæ—¶é—´"}},[s._v("#")]),s._v(" å›è°ƒå‚æ•°(æ‰§è¡Œæ—¶é—´)")]),s._v(" "),e("blockquote",[e("p",[s._v("å›è°ƒå‡½æ•°ä¼šè¢«ä¼ å…¥DOMHighResTimeStampå‚æ•°ï¼ŒDOMHighResTimeStampæŒ‡ç¤ºå½“å‰è¢« requestAnimationFrame() æ’åºçš„å›è°ƒå‡½æ•°è¢«è§¦å‘çš„æ—¶é—´ã€‚")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("function test(timestamp) {\n    console.log(`ğŸš€ğŸš€hello ~ requestAnimationFrame ${timestamp}`);\n    requestAnimationFrame(test)\n  }\n  requestAnimationFrame(test)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("æ­¤æ—¶é—´ç²¾ç¡®åˆ°ä¸‰ä½å°æ•°")]),s._v(" "),e("p",[s._v("æ³¨æ„ï¼š")]),s._v(" "),e("blockquote",[e("p",[s._v("åœ¨åŒä¸€ä¸ªå¸§ä¸­çš„ å¤šä¸ªå›è°ƒå‡½æ•° ï¼Œå®ƒä»¬æ¯ä¸€ä¸ªéƒ½ä¼šæ¥å—åˆ°ä¸€ä¸ª ç›¸åŒçš„æ—¶é—´æˆ³ ï¼Œå³ä½¿åœ¨è®¡ç®—ä¸Šä¸€ä¸ªå›è°ƒå‡½æ•°çš„å·¥ä½œè´Ÿè½½æœŸé—´å·²ç» æ¶ˆè€—äº†ä¸€äº›æ—¶é—´ ã€‚è¯¥æ—¶é—´æˆ³æ˜¯ä¸€ä¸ªåè¿›åˆ¶æ•°ï¼Œå•ä½æ¯«ç§’ï¼Œæœ€å°ç²¾åº¦ä¸º1ms(1000Î¼s)ã€‚")])]),s._v(" "),e("p",[s._v("å°±æ˜¯æµè§ˆå™¨åˆ·æ–°ä¸€æ¬¡çš„æ—¶å€™ï¼Œæ‰§è¡Œæ‰€æœ‰çš„ requestAnimationFrame ï¼Œå¹¶ä¸”å®ƒä»¬çš„å›è°ƒå‚æ•°æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚")]),s._v(" "),e("h2",{attrs:{id:"æµè§ˆå™¨å¯¹å®ƒçš„ä¼˜åŒ–"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨å¯¹å®ƒçš„ä¼˜åŒ–"}},[s._v("#")]),s._v(" æµè§ˆå™¨å¯¹å®ƒçš„ä¼˜åŒ–")]),s._v(" "),e("blockquote",[e("p",[s._v("ä¸ºäº†æé«˜æ€§èƒ½å’Œç”µæ± å¯¿å‘½ï¼Œå› æ­¤åœ¨å¤§å¤šæ•°æµè§ˆå™¨é‡Œï¼Œå½“requestAnimationFrame() è¿è¡Œåœ¨åå°æ ‡ç­¾é¡µæˆ–è€…éšè—çš„"),e("iframe",[s._v(" é‡Œæ—¶ï¼ŒrequestAnimationFrame() ä¼šè¢«æš‚åœè°ƒç”¨ä»¥æå‡æ€§èƒ½å’Œç”µæ± å¯¿å‘½ã€‚")])])]),s._v(" "),e("p",[s._v("è¯´äººè¯ï¼šä¸åœ¨å½“å‰é¡µé¢ï¼Œä¸æ‰§è¡Œ requestAnimationFrameï¼Œå›æ¥åå†æ‰§è¡Œ")]),s._v(" "),e("h2",{attrs:{id:"è¿”å›å€¼"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è¿”å›å€¼"}},[s._v("#")]),s._v(" è¿”å›å€¼")]),s._v(" "),e("blockquote",[e("p",[s._v("ä¸€ä¸ª long æ•´æ•°ï¼Œè¯·æ±‚ ID ï¼Œæ˜¯å›è°ƒåˆ—è¡¨ä¸­å”¯ä¸€çš„æ ‡è¯†ã€‚æ˜¯ä¸ªéé›¶å€¼ï¼Œæ²¡åˆ«çš„æ„ä¹‰ã€‚")])]),s._v(" "),e("blockquote",[e("p",[s._v("ä½ å¯ä»¥ä¼ è¿™ä¸ªå€¼ç»™ window.cancelAnimationFrame() ä»¥å–æ¶ˆå›è°ƒå‡½æ•°ã€‚")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('const beginBtn = document.querySelector("#begin")\n\n  const endBtn = document.querySelector("#end")\n\n  let myRef;\n\n  beginBtn.addEventListener("click", () => {\n    myRef = requestAnimationFrame(test)\n  })\n\n  endBtn.addEventListener("click", () => {\n    cancelAnimationFrame(myRef)\n  })\n\n  function test() {\n    myRef = requestAnimationFrame(test)\n    console.log(\'ğŸš€ğŸš€~ myRef:\', myRef);\n  }\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("p",[s._v("ä¹Ÿå¯ä»¥è®¾ç½®æ¡ä»¶æ¥ç»ˆæ­¢")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" function test(timestamp) {\n    console.log(`ğŸš€ğŸš€hello ~ requestAnimationFrame ${timestamp}`);\n    if (timestamp < 500) {\n      requestAnimationFrame(test)\n    }\n  }\n  requestAnimationFrame(test)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h2",{attrs:{id:"settimeout-setinterval"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#settimeout-setinterval"}},[s._v("#")]),s._v(" setTimeout && setInterval")]),s._v(" "),e("p",[s._v("setTimeout å’Œ setInterval çš„é—®é¢˜æ˜¯ï¼Œå®ƒä»¬ä¸å¤Ÿç²¾ç¡®ã€‚å®ƒä»¬çš„å†…åœ¨è¿è¡Œæœºåˆ¶å†³å®šäº† æ—¶é—´é—´éš”å‚æ•° å®é™…ä¸Šåªæ˜¯æŒ‡å®šäº†æŠŠåŠ¨ç”»ä»£ç æ·»åŠ åˆ° æµè§ˆå™¨UIçº¿ç¨‹é˜Ÿåˆ— ä¸­ä»¥ç­‰å¾…æ‰§è¡Œçš„æ—¶é—´ã€‚å¦‚æœé˜Ÿåˆ—å‰é¢å·²ç»åŠ å…¥äº†å…¶å®ƒä»»åŠ¡ï¼Œé‚£åŠ¨ç”»ä»£ç å°±è¦ç­‰å‰é¢çš„ ä»»åŠ¡å®Œæˆå å†æ‰§è¡Œï¼Œå¹¶ä¸”å¦‚æœæ—¶é—´é—´éš”è¿‡çŸ­ï¼ˆå°äº16.7msï¼‰ä¼šé€ æˆä¸¢å¸§ï¼Œæ‰€ä»¥å°±ä¼šå¯¼è‡´åŠ¨ç”»å¯èƒ½ä¸ä¼šæŒ‰ç…§é¢„è®¾çš„å»æ‰§è¡Œï¼Œé™ä½ç”¨æˆ·ä½“éªŒã€‚\nrequestAnimationFrame é‡‡ç”¨ æµè§ˆå™¨æ—¶é—´é—´éš” ï¼Œä¿æŒæœ€ä½³ç»˜åˆ¶æ•ˆç‡ï¼Œä¸ä¼šå› ä¸ºé—´éš”æ—¶é—´è¿‡çŸ­ï¼Œé€ æˆè¿‡åº¦ç»˜åˆ¶ï¼Œæ¶ˆè€—æ€§èƒ½ï¼›ä¹Ÿä¸ä¼šå› ä¸ºé—´éš”æ—¶é—´å¤ªé•¿ï¼Œä½¿ç”¨åŠ¨ç”»å¡é¡¿ä¸æµç•…ï¼Œè®©å„ç§ç½‘é¡µåŠ¨ç”»æ•ˆæœèƒ½å¤Ÿæœ‰ä¸€ä¸ª ç»Ÿä¸€ çš„åˆ·æ–°æœºåˆ¶ï¼Œä»è€ŒèŠ‚çœç³»ç»Ÿèµ„æºï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ï¼Œæ”¹å–„è§†è§‰æ•ˆæœã€‚")]),s._v(" "),e("h2",{attrs:{id:"css3åŠ¨ç”»"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#css3åŠ¨ç”»"}},[s._v("#")]),s._v(" CSS3åŠ¨ç”»")]),s._v(" "),e("p",[s._v("CSS3 çš„transition å’Œ animation æ­é…ä½¿ç”¨å¯ä»¥è¯´æ˜¯éå¸¸å¼ºå¤§äº†ï¼Œä½†æ˜¯ä¹Ÿæœ‰åšä¸åˆ°çš„åœ°æ–¹ï¼Œæ¯”å¦‚è¯´\nscrollTopï¼Œå¦å¤– CSS3 åŠ¨ç”»æ”¯æŒçš„è´å¡å°”æ›²çº¿ä¹Ÿæ˜¯æœ‰é™çš„ã€‚CSS3 åšä¸åˆ°çš„å°±å¯ä»¥ç”¨åˆ° requestAnimationFrame æ¥è§£å†³äº†")]),s._v(" "),e("h2",{attrs:{id:"ç¼ºç‚¹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç¼ºç‚¹"}},[s._v("#")]),s._v(" ç¼ºç‚¹")]),s._v(" "),e("p",[s._v("ä¸€èˆ¬æ¥è¯´ï¼ŒrequestAnimationFrame æ‰§è¡Œéƒ½æ˜¯å¾ˆç¨³å®šçš„ï¼Œä½†æ˜¯å½“æµè§ˆå™¨æ¸²æŸ“çº¿ç¨‹è¢«è¿‡åº¦å ç”¨æ—¶è¿™ä¸ªAPIè°ƒç”¨é—´éš”ä¼šéå¸¸ä¸ç¨³å®šï¼Œå®ƒå¹¶ä¸æ˜¯é“¶å¼¹ã€‚")])])}),[],!1,null,null,null);e.default=n.exports}}]);